{% extends "base.html" %}
{% load static %}
{% block meta_title %}{% endblock %}
{% block title %}{% endblock %}
{% block breadcrumb_menu %}

    {{ block.super }}
    Plot template {{ storywheel.title }}

{% endblock %}
{% block base-fixed-top-bar %}{% endblock base-fixed-top-bar %}
{% block all_content %}

<style>

    .edit_box {
        background-color: rgba(255,255,255,.2);
        border:
            {% if edit %}
                3px dashed #5bc0de
            {% else %}
                1px solid rgb(65,45,120)
            {% endif %};
        height: 95%;
        overflow-x: hidden;
        overflow-y: scroll;
        padding: 10px;
        text-align: left;
        width: 100%;
    }

    .edit_box:hover {
        background-color: rgba(255, 255, 255, .9);
    }

    .template_row {
        display: flex;
        justify-content: space-between;
        width: 100%
    }

    .template_component {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 47%;
    }

    .edit_btn_central {
        position: absolute;
        font-size: 14pt;
        width: 125px;
    }

</style>

{% if storywheel.author == request.user %}

    <a id="edit_mode_button" class="btn btn-info"
       style="font-size: 18pt; position: fixed; left: 1085px; top: 120px; z-index: 115;"
       href="{% if edit %}
                {% url "joscourses:sw_plot" storywheel.id %}
             {% else %}
                {% url "joscourses:sw_plot_edit" storywheel.id %}
             {% endif %}">
        {% if edit %}Hide{% else %}Edit{% endif %}
    </a><br>

{% endif %}

<img src="{% static 'img/plot-mountain-112716.png' %}" width=1050px height=1050px
     style="position: fixed; top: -60px; left: 30px; z-index: -1">

<div style="position: fixed; top: 90px; left: 30px; height: 800px; width: 1170px;">

    <div class="template_row" style="justify-content: flex-start; height: 15%;">

        <!-- Climax -->
        <div class="template_component" style="width: 85%;">

            <div id='xxx' class='edit_box'>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</div>

        </div>
    </div>

    <div class="template_row" style="height: 48%; margin-top: 4%;">

        <!-- Rising -->
        <div class="template_component" style="width: 58%;">
            <div id='xxx' class='edit_box'>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</div>
        </div>

        <!-- Falling -->
        <div class="template_component" style="width: 37%;">
            <div id='xxx' class='edit_box'>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</div>
        </div>

    </div>

    <div class="template_row"
         style="display: flex; justify-content: space-between; height: 29%; margin-top: 4%;">

        <!-- Incite -->
        <div class="template_component">

            <div id='xxx' class='edit_box'>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</div>

        </div>

        <!-- Resolve -->
        <div class="template_component">

            <div id='xxx' class='edit_box'>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</div>

        </div>
    </div>
</div>

<!-- Editor -->
{% if edit %}

    <a id="cancel_btn"
       class="btn btn-danger"
       style="position: absolute; left: 830px; top: 200px; width: 125px;"
       onclick="josCKDestroy('incite');"
       data-toggle="tooltip"
       data-placement="bottom"
       title="Warning: discards recent changes!"
    >
        Discard
    </a>
    <a id="save_btn"
       class="btn btn-success"
       style="position: absolute; left: 970px; top: 200px; width: 125px;"
       onclick=" "
       data-toggle="tooltip"
       data-placement="bottom"
       title="Warning: discards recent changes!"
    >
        Save
    </a>

    <!-- Edit Buttons -->
    <div id="central_editor_container"
         style="position:absolute; top: 240px; height: 500px; width: 900px; left: 90px; background-color: pink"></div>

    <a id="climax_edit_btn"
       class="btn btn-info btn-xs edit_btn_central"
       style="left: 55px; top: 59px;"
       onclick="centralCKEdit('climax', 'plot', '/joscourses/storywheel_update/?id=' + '{{ storywheel.id }}');"
       data-toggle="tooltip"
       data-placement="bottom"
       title="Activates editor"
    >
        Edit climax
    </a>

    <a id="rising_edit_btn"
       class="btn btn-info btn-xs edit_btn_central"
       style="left: 55px; top: 226px;"
       onclick="centralCKEdit('rising', 'plot', '/joscourses/storywheel_update/?id=' + '{{ storywheel.id }}');"
       data-toggle="tooltip"
       data-placement="bottom"
       title="Activates editor"
    >
        Edit rising
    </a>

    <a id="falling_edit_btn"
       class="btn btn-info btn-xs edit_btn_central"
       style="left: 1050px; top: 226px;"
       onclick="centralCKEdit('falling', 'plot', '/joscourses/storywheel_update/?id=' + '{{ storywheel.id }}');"
       data-toggle="tooltip"
       data-placement="bottom"
       title="Activates editor"
    >
        Edit falling
    </a>

    <a id="incite_edit_btn"
       class="btn btn-info btn-xs edit_btn_central"
       style="left: 55px; top: 658px;"
       onclick="centralCKEdit('incite', 'plot', '/joscourses/storywheel_update/?id=' + '{{ storywheel.id }}');"
       data-toggle="tooltip"
       data-placement="bottom"
       title="Activates editor"
    >
        Edit incite
    </a>

    <a id="resolve_edit_btn"
       class="btn btn-info btn-xs edit_btn_central"
       style="left: 1050px; top: 658px;"
       onclick="centralCKEdit('resolve', 'plot', '/joscourses/storywheel_update/?id=' + '{{ storywheel.id }}');"
       data-toggle="tooltip"
       data-placement="bottom"
       title="Activates editor"
    >
        Edit resolve
    </a>

{% endif %}

<div style="height: 700px; border: 1px solid transparent; margin: 0;"></div>

<script src="{% static "js/central-editor-include.js" %}"></script>

<script>

$('.edit_btn_central').hide();

</script>

{% endblock all_content %}
