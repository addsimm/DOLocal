{% extends "base.html" %}
{% block meta_title %}{% endblock %}
{% block title %}{% endblock %}
{% block breadcrumb_menu %}

    {{ block.super }}
    Dev Playground

{% endblock %}

{% block all_content %}

<style>

    canvas {
        border: 1px solid black;
        background-color: lightblue;
    }

</style>

<div id="mouse_report"></div>

<div class="row" style="margin-top: 30px;">
    <div class="col-xs-12 text-center">
        <canvas id="pie_canvas" width="600" height="400">
            Your browser does not support HTML5 Canvas.
        </canvas>
    </div>
</div>

<script>

    C = document.getElementById('pie_canvas');
    cntxt = C.getContext('2d');

    paths = [];

    for (x=0; x<3; x++) {
        xx = (200 * x);
        for (y = 0; y < 2; y++) {
            yy = (200 * y);

            var path = new Path2D();
            cntxt.fillStyle = getRandomColor();
            path.rect(xx, yy, 200, 200);
            cntxt.fill(path);
            cntxt.fillText('path', path, 100);
            paths.push(path);
        }
    }

    console.log(paths);

    C.addEventListener('click', function(e) {
        var mousePos = getMousePos(C, e);
        var message = 'Mouse position: ' + mousePos.x + ',' + mousePos.y;
        console.log(' ');
        for (i = 0; i < 6; i++) {
            console.log(i + ' - ' + cntxt.isPointInPath(paths[i], mousePos.x, mousePos.y));
        }
    });

    function getMousePos(canvas, evt) {
        var rect = canvas.getBoundingClientRect();
        return {
            x: evt.clientX - rect.left,
            y: evt.clientY - rect.top
        };
    }


    function getRandomColor() {
        var letters = '0123456789ABCDEF';
        var color = '#';
        for (var i = 0; i < 6; i++) {
            color += letters[Math.floor(Math.random() * 16)];
        }
        return color;
    }
/*
$(document).ready( function () {
    drawThis();

});


var pie_canvas = document.getElementById('pie-canvas');
var context2 = pie_canvas.getContext('2d');
pie_canvas.onmousemove = function (evt) {
            var mousePos = getMousePos(pie_canvas, evt);
            var hitRegion = evt.region;
            var message = 'Mouse position: ' + mousePos.x + ',' + mousePos.y + ',' + hitRegion;
            // alert("click: " + message);
            // writeMessage(pie_canvas, message);
            $('#mouse_report').text(message);
        };


function writeMessage(canvas, message) {
    var context = canvas.getContext('2d');
    context.clearRect(0, 0, canvas.width, canvas.height);
    context.font = '18pt Calibri';
    context.fillStyle = 'black';
    context.fillText(message, 10, 25);
}



function drawThis() {
    var canvas = document.getElementById('pie-canvas');

    if (canvas.getContext) {
        var ctx = canvas.getContext('2d');

        // pie/conflict
        ctx.save();
        ctx.beginPath();
        ctx.moveTo(20.0, 300.7);
        ctx.bezierCurveTo(83.7, 121.7, 250.3, 7.0, 431.1, 1.8);
        ctx.lineTo(431.1, 434.1);
        ctx.lineTo(430.9, 434.1);
        ctx.lineTo(20.0, 300.6);
        ctx.lineWidth = 3.6;
        ctx.stroke();

        // pie/character
        ctx.beginPath();
        ctx.moveTo(847.4, 304.3);
        ctx.bezierCurveTo(901.1, 486.5, 833.7, 677.2, 690.5, 787.7);
        ctx.lineTo(436.4, 437.9);
        ctx.lineTo(436.5, 437.9);
        ctx.lineTo(847.4, 304.4);
        ctx.stroke();

        // pie/theme
        ctx.beginPath();
        ctx.moveTo(688.7, 789.6);
        ctx.bezierCurveTo(532.0, 896.9, 329.8, 891.8, 180.5, 789.7);
        ctx.lineTo(434.6, 440.0);
        ctx.lineTo(434.7, 440.1);
        ctx.lineTo(688.6, 789.6);
        ctx.stroke();

        // pie/world
        ctx.beginPath();
        ctx.moveTo(177.1, 787.9);
        ctx.bezierCurveTo(26.6, 672.0, -31.0, 478.1, 19.9, 304.6);
        ctx.lineTo(431.1, 438.2);
        ctx.lineTo(431.0, 438.3);
        ctx.lineTo(177.0, 787.8);
        ctx.stroke();

        // pie/plot
        ctx.beginPath();
        ctx.moveTo(434.6, 2.7);
        ctx.bezierCurveTo(624.6, 7.9, 785.1, 130.9, 845.9, 301.2);
        ctx.lineTo(434.8, 434.8);
        ctx.lineTo(434.8, 434.7);
        ctx.lineTo(434.8, 2.7);
        ctx.lineTo(434.6, 2.7);
        ctx.closePath();
        ctx.stroke();
        ctx.restore();

    } else {
        // canvas-unsupported code here
    }
}
*/

</script>

{% endblock all_content %}

// TEXT:
ctx.font = "48px serif";
ctx.fillText("Hello world", 250, 50);

// IMAGE:
var img = new Image();   // Create new img element
img.src = '/static/img/peeky-102216.png'; // Set source path
img.addEventListener("load", function () {
ctx.drawImage(img, 50, 350);
}, false);

<style>

    .tr1 {
        width: 20%;
        padding-bottom: 14.142135627%; /* = width / sqrt(2) */
        position: relative;
        overflow: hidden;
        outline: 2px solid black;
        transform: rotate(45deg);
    }

    .tr1:before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: green;

        transform-origin: 0 100%;
        transform: rotate(45deg);
    }

</style>

<div class="tr1" style="margin-top: 100px;" href="javascript: alert('Clicked');"></div>