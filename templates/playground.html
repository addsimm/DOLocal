{% extends "base.html" %}
{% block meta_title %}{% endblock %}
{% block title %}{% endblock %}
{% block breadcrumb_menu %}

    {{ block.super }}
    Dev Playground

{% endblock %}

{% block all_content %}

<style>

    canvas {
        border: 1px solid black;
        background-color: yellow;
    }

</style>

<div class="row" style="margin-top: 30px;">
    <div class="col-xs-12 text-center">
        <canvas id="pie-canvas" width="900" height="900">
            Your browser does not support HTML5 Canvas.
        </canvas>
    </div>
</div>

<script>

    /*

     Ai->Canvas makes it easy to draw complex shapes that can easily be tested with the canvas isPointInPath command.

     Example:
     1. Create a new layer named “sunSpot();”, and use the ellipse tool to draw a circle that overlaps the clickable area of the sun.

     2. Because the sunSpot layer is only used to configure a path to check for mouse clicks, there is no need to actually see it on the canvas. So, set both fill and stroke styles to “none.”

     3. To create a “supernova” animation that will start when the sunSpot area is clicked, rename the sunGlow layer to: “sunGlow(origin: center; scale-direction: grow; scale-duration: 6; scale-iterations: 1; scale-multiplier: 12; scale-offset: 1; scale-timing-function: expoEaseOut; alpha-direction: fade-out; alpha-duration: 6; alpha-iterations: 1);”. The scale-multiplier property multiplies the scale value, and the scale-offset property adds a percentage of the original range.

     4. Choose File/Export/<canvas>, and open the exported file in a text editor.

     */

    // 5. Add a new JavaScript function called “sunClick();” after the init() function:

    function sunClick(e) {
        sunSpot(ctx);
        var x = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft - canvas.offsetLeft;
        var y = e.clientY + document.body.scrollTop + document.documentElement.scrollTop - canvas.offsetTop;
        if (ctx.isPointInPath(x, y)) {
            sunGlow.scaleClock.restart();
            sunGlow.alphaClock.restart();
        }
    }

    // 6. To prevent sunGlow at page loads, delete “sunGlow.scaleClock.start();” and “sunGlow.alphaClock.start();”

    // 7. At end init(): canvas.addEventListener("click", sunClick, false);”

$(document).ready( function () {
    drawThis();
});

function drawThis() {
    var canvas = document.getElementById('pie-canvas');

    if (canvas.getContext) {
        var ctx = canvas.getContext('2d');

        // pie/conflict
        ctx.save();
        ctx.beginPath();
        ctx.moveTo(20.0, 300.7);
        ctx.bezierCurveTo(83.7, 121.7, 250.3, 7.0, 431.1, 1.8);
        ctx.lineTo(431.1, 434.1);
        ctx.lineTo(430.9, 434.1);
        ctx.lineTo(20.0, 300.6);
        ctx.lineWidth = 3.6;
        ctx.stroke();

        // pie/character
        ctx.beginPath();
        ctx.moveTo(847.4, 304.3);
        ctx.bezierCurveTo(901.1, 486.5, 833.7, 677.2, 690.5, 787.7);
        ctx.lineTo(436.4, 437.9);
        ctx.lineTo(436.5, 437.9);
        ctx.lineTo(847.4, 304.4);
        ctx.stroke();

        // pie/theme
        ctx.beginPath();
        ctx.moveTo(688.7, 789.6);
        ctx.bezierCurveTo(532.0, 896.9, 329.8, 891.8, 180.5, 789.7);
        ctx.lineTo(434.6, 440.0);
        ctx.lineTo(434.7, 440.1);
        ctx.lineTo(688.6, 789.6);
        ctx.stroke();

        // pie/world
        ctx.beginPath();
        ctx.moveTo(177.1, 787.9);
        ctx.bezierCurveTo(26.6, 672.0, -31.0, 478.1, 19.9, 304.6);
        ctx.lineTo(431.1, 438.2);
        ctx.lineTo(431.0, 438.3);
        ctx.lineTo(177.0, 787.8);
        ctx.stroke();

        // pie/plot
        ctx.beginPath();
        ctx.moveTo(434.6, 2.7);
        ctx.bezierCurveTo(624.6, 7.9, 785.1, 130.9, 845.9, 301.2);
        ctx.lineTo(434.8, 434.8);
        ctx.lineTo(434.8, 434.7);
        ctx.lineTo(434.8, 2.7);
        ctx.lineTo(434.6, 2.7);
        ctx.closePath();
        ctx.stroke();
        ctx.restore();

    } else {
        // canvas-unsupported code here
    }
}

</script>

{% endblock all_content %}

// TEXT:
ctx.font = "48px serif";
ctx.fillText("Hello world", 250, 50);

// IMAGE:
var img = new Image();   // Create new img element
img.src = '/static/img/peeky-102216.png'; // Set source path
img.addEventListener("load", function () {
ctx.drawImage(img, 50, 350);
}, false);

<style>

    .tr1 {
        width: 20%;
        padding-bottom: 14.142135627%; /* = width / sqrt(2) */
        position: relative;
        overflow: hidden;
        outline: 2px solid black;
        transform: rotate(45deg);
    }

    .tr1:before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: green;

        transform-origin: 0 100%;
        transform: rotate(45deg);
    }

</style>

<div class="tr1" style="margin-top: 100px;" href="javascript: alert('Clicked');"></div>