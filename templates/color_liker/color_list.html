{% comment %}
   humanize: For the "apnumber" filter, to display "two" instead of
   "2". Requries 'django.contrib.humanize' in INSTALLED_APPS
{% endcomment %}
{% load humanize %}
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Color Likenatorizer</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width"/>
    <style type="text/css">
        table {
            border: 1px solid #000;
            border-spacing: 0px;
            background-color: #EEE;
            border-collapse: collapse;
            text-align: center;
        }

        thead {
            font-weight: bold;
            text-decoration: underline;
        }

        th {
            border: 1px solid #000;
            padding: 4px;
            width: 150px;
        }

        td {
            text-align: center;
            vertical-align: middle;
            padding: 4px;
            border: 1px solid #000;
        }

        .liked {
            text-align: center;
            background-color: pink;
        }

        .unliked {
            text-align: center;
            background-color: white;
        }
    </style>
</head>
<body>
<div class="row" style="margin-top: 50px;">
    <div class="search_section">

        <form id="search_colors_form_id" method="get" action="{% url 'color_list' %}">
            <input type="text" id="search_text" name="search_text"/>
            {# csrf_token is not needed when the method is "get" #}
            <input id="id_pic_submit_button" type="submit" value="Search for color"/>
            <p>(Searching for nothing returns all)</p>
        </form>

        <p><b>Searching for &quot;<code>{{ search_text }}</code>&quot; ---

            {% if found == 0 %}
                Found nothing, listing all colors.
            {% else %}
                Found {{ found | apnumber }} colors!
            {% endif %}
        </b></p>

    </div>
</div>
<div class="row" style="margin-top: 50px;">
    <div class="content_section">

        <h1>Colors</h1>

            <table>
                <tr>
                    <th>Color</th>
                    <th>Favorite?</th>
                </tr>

                {% for  color in color_search_results %}
                    <tr>
                        <td style="background-color: {{ color.name }};">{{ color.name }}</td>

                        <td class="{% if not color.is_favorited %}un{% endif %}liked">
                            <a href="{% url 'toggle_color_like' color.id %}">
                                {% if color.is_favorited %}Yes{% else %}No{% endif %}
                            </a>
                        </td>
                    </tr>
                {% endfor %}
            </table>


    </div>
</div>
<script language="javascript">
    document.getElementById("search_text").focus();
</script>
</body>
</html>